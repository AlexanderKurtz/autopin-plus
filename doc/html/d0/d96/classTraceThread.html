<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>autopin+: TraceThread Class Reference</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">autopin+
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Automatic Thread-to-Core-Pinning Tool</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d0/d96/classTraceThread.html','../../');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">TraceThread Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Realizes the process tracing for <a class="el" href="../../d9/d33/classOSServicesLinux.html" title="Implementation of the OSServices for Linux.">OSServicesLinux</a>.  
 <a href="../../d0/d96/classTraceThread.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Collaboration diagram for TraceThread:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d3/d43/classTraceThread__coll__graph.png" border="0" usemap="#TraceThread_coll__map" alt="Collaboration graph"/></div>
<map name="TraceThread_coll__map" id="TraceThread_coll__map">
<area shape="rect" id="node4" href="../../d4/d41/classAutopinContext.html" title="Class encapsulating all runtime information for each class." alt="" coords="192,493,339,747"/><area shape="rect" id="node12" href="../../d2/dfa/classObservedProcess.html" title="This class implements the internal representation of the process observed by autopin+." alt="" coords="227,1157,433,1587"/><area shape="rect" id="node14" href="../../d7/d48/classOSServices.html" title="Abstracts all resources of the underlying operating system needed by autopin+." alt="" coords="287,840,461,1064"/><area shape="rect" id="node19" href="../../d4/da7/classConfiguration.html" title="Abstract base class for the general handling of configuration files." alt="" coords="603,811,780,1093"/><area shape="rect" id="node6" href="../../da/d72/classOutputChannel.html" title="Class for printing output on the terminal." alt="" coords="139,147,272,429"/><area shape="rect" id="node8" href="../../d9/dd6/classError.html" title="Class for error handling." alt="" coords="297,220,439,356"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>

<p><a href="../../dc/db6/classTraceThread-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:aa0a391daa4525f3169fcb0cef3f9718f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#aa0a391daa4525f3169fcb0cef3f9718f">sig_TaskCreated</a> (int tid)</td></tr>
<tr class="memdesc:aa0a391daa4525f3169fcb0cef3f9718f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals that a new task has been created.  <a href="#aa0a391daa4525f3169fcb0cef3f9718f"></a><br/></td></tr>
<tr class="memitem:a866423e646c21b6b1c2281e99314a3e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a866423e646c21b6b1c2281e99314a3e2">sig_TaskTerminated</a> (int tid)</td></tr>
<tr class="memdesc:a866423e646c21b6b1c2281e99314a3e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signals that task has terminated.  <a href="#a866423e646c21b6b1c2281e99314a3e2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a496219c1cd21f08a5e388f9cfcf4ce3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a496219c1cd21f08a5e388f9cfcf4ce3d">TraceThread</a> (const <a class="el" href="../../d4/d41/classAutopinContext.html">AutopinContext</a> &amp;<a class="el" href="../../d0/d96/classTraceThread.html#ab60be7c46a8cf4baafb1ce2344744607">context</a>)</td></tr>
<tr class="memdesc:a496219c1cd21f08a5e388f9cfcf4ce3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a496219c1cd21f08a5e388f9cfcf4ce3d"></a><br/></td></tr>
<tr class="memitem:a0c25e3ced77606c01b4c6b9ac5d91d03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a0c25e3ced77606c01b4c6b9ac5d91d03">deinit</a> ()</td></tr>
<tr class="memdesc:a0c25e3ced77606c01b4c6b9ac5d91d03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop process tracing and exit thread.  <a href="#a0c25e3ced77606c01b4c6b9ac5d91d03"></a><br/></td></tr>
<tr class="memitem:ac6898d3a618d3c409bcf431e44d87168"><td class="memItemLeft" align="right" valign="top">QMutex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#ac6898d3a618d3c409bcf431e44d87168">init</a> (<a class="el" href="../../d2/dfa/classObservedProcess.html">ObservedProcess</a> *<a class="el" href="../../d0/d96/classTraceThread.html#a3a0dbd5ff57fca014ed76d70301ca02f">observed_process</a>)</td></tr>
<tr class="memdesc:ac6898d3a618d3c409bcf431e44d87168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and starts the thread.  <a href="#ac6898d3a618d3c409bcf431e44d87168"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac2200436ddac0c4cf80400771df4b6c7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#ac2200436ddac0c4cf80400771df4b6c7">alrmSignalHandler</a> (int param)</td></tr>
<tr class="memdesc:ac2200436ddac0c4cf80400771df4b6c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal handler for SIGALRM.  <a href="#ac2200436ddac0c4cf80400771df4b6c7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6fb6fda22eaac92fbf3ba168e1deccfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a6fb6fda22eaac92fbf3ba168e1deccfd">run</a> ()</td></tr>
<tr class="memdesc:a6fb6fda22eaac92fbf3ba168e1deccfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method which will be executed by the thread.  <a href="#a6fb6fda22eaac92fbf3ba168e1deccfd"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a088ce6ee05b0157c36895f384bd263b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a088ce6ee05b0157c36895f384bd263b9">attach</a> ()</td></tr>
<tr class="memdesc:a088ce6ee05b0157c36895f384bd263b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches to already existing tasks of the process.  <a href="#a088ce6ee05b0157c36895f384bd263b9"></a><br/></td></tr>
<tr class="memitem:a58d4240b7805451a11f8cd45f7d8cc40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a58d4240b7805451a11f8cd45f7d8cc40">newTask</a> (int <a class="el" href="../../d0/d96/classTraceThread.html#a10c322b50bbb104f709bcb6ae2401f5c">pid</a>)</td></tr>
<tr class="memdesc:a58d4240b7805451a11f8cd45f7d8cc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the creation of a new task.  <a href="#a58d4240b7805451a11f8cd45f7d8cc40"></a><br/></td></tr>
<tr class="memitem:a79d6f5d6fa66710c16c82843914f53a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a79d6f5d6fa66710c16c82843914f53a3">ptraceContinue</a> (pid_t <a class="el" href="../../d0/d96/classTraceThread.html#a10c322b50bbb104f709bcb6ae2401f5c">pid</a>, unsigned long sig=0)</td></tr>
<tr class="memdesc:a79d6f5d6fa66710c16c82843914f53a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continues tasks stopped by ptrace.  <a href="#a79d6f5d6fa66710c16c82843914f53a3"></a><br/></td></tr>
<tr class="memitem:aecafd0accd3c1153a9462ae691f0ee86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#aecafd0accd3c1153a9462ae691f0ee86">setupSignalHandler</a> ()</td></tr>
<tr class="memdesc:aecafd0accd3c1153a9462ae691f0ee86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup SIGALRM handler.  <a href="#aecafd0accd3c1153a9462ae691f0ee86"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab60be7c46a8cf4baafb1ce2344744607"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d41/classAutopinContext.html">AutopinContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#ab60be7c46a8cf4baafb1ce2344744607">context</a></td></tr>
<tr class="memitem:af0a99b6619affd6befa325a8c05510ee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#af0a99b6619affd6befa325a8c05510ee">exreq</a></td></tr>
<tr class="memitem:aabfcb91d759a2d135eb292ee3bfb8100"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/de8/classProcessTree.html#af11115c242d21f55964790f7a9508a8e">ProcessTree::autopin_tid_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#aabfcb91d759a2d135eb292ee3bfb8100">new_tasks</a></td></tr>
<tr class="memitem:a3a0dbd5ff57fca014ed76d70301ca02f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dfa/classObservedProcess.html">ObservedProcess</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a3a0dbd5ff57fca014ed76d70301ca02f">observed_process</a></td></tr>
<tr class="memitem:a10c322b50bbb104f709bcb6ae2401f5c"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a10c322b50bbb104f709bcb6ae2401f5c">pid</a></td></tr>
<tr class="memitem:abbf0e49773df19baf7d4b14a3b4ae29a"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#abbf0e49773df19baf7d4b14a3b4ae29a">pid_str</a></td></tr>
<tr class="memitem:a85daa21fa3487f909a01dc190fcb3216"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a85daa21fa3487f909a01dc190fcb3216">ptrace_opt</a></td></tr>
<tr class="memitem:a8e861dafaac3d224cf5c1edebf2bc75a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/de8/classProcessTree.html#af11115c242d21f55964790f7a9508a8e">ProcessTree::autopin_tid_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a8e861dafaac3d224cf5c1edebf2bc75a">tasks</a></td></tr>
<tr class="memitem:a70a9fce517715a0bc37e8fb60cf67422"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a70a9fce517715a0bc37e8fb60cf67422">trace_mutex</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a41c457c913a89e2006509d345fe13aa6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d96/classTraceThread.html#a41c457c913a89e2006509d345fe13aa6">alarm_occured</a> = false</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Realizes the process tracing for <a class="el" href="../../d9/d33/classOSServicesLinux.html" title="Implementation of the OSServices for Linux.">OSServicesLinux</a>. </p>
<p>This class implements a thread which traces processes using ptrace.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="../../d9/d33/classOSServicesLinux.html" title="Implementation of the OSServices for Linux.">OSServicesLinux</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00048">48</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a496219c1cd21f08a5e388f9cfcf4ce3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d96/classTraceThread.html#a496219c1cd21f08a5e388f9cfcf4ce3d">TraceThread::TraceThread</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d41/classAutopinContext.html">AutopinContext</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Creates but does not start a new <a class="el" href="../../d0/d96/classTraceThread.html" title="Realizes the process tracing for OSServicesLinux.">TraceThread</a>.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>Refernce to the context of the object calling the constructor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00039">39</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac2200436ddac0c4cf80400771df4b6c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#ac2200436ddac0c4cf80400771df4b6c7">TraceThread::alrmSignalHandler</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal handler for SIGALRM. </p>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00339">339</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a088ce6ee05b0157c36895f384bd263b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a088ce6ee05b0157c36895f384bd263b9">TraceThread::attach</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attaches to already existing tasks of the process. </p>
<p>This method is called when the tracing of the process is started. </p>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00063">63</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0c25e3ced77606c01b4c6b9ac5d91d03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a0c25e3ced77606c01b4c6b9ac5d91d03">TraceThread::deinit</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop process tracing and exit thread. </p>
<p>This function block until the thread has exited. </p>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00056">56</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac6898d3a618d3c409bcf431e44d87168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMutex * <a class="el" href="../../d0/d96/classTraceThread.html#ac6898d3a618d3c409bcf431e44d87168">TraceThread::init</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dfa/classObservedProcess.html">ObservedProcess</a> *&#160;</td>
          <td class="paramname"><em>observed_process</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes and starts the thread. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">observed_process</td><td>A pointer to the process the thread is going to trace </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>A pointer to a locked mutex. This mutex will be unlocked when the thread has attached to all tasks and is used by <a class="el" href="../../d9/d33/classOSServicesLinux.html#afb35bc135841a236d3ee837a71af4827" title="Attaches autopin+ to a process.">OSServicesLinux::attachToProcess()</a> to wait until the thread has finished attaching to all tasks. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00046">46</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a58d4240b7805451a11f8cd45f7d8cc40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a58d4240b7805451a11f8cd45f7d8cc40">TraceThread::newTask</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles the creation of a new task. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The pid of the new task </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00284">284</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a79d6f5d6fa66710c16c82843914f53a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a79d6f5d6fa66710c16c82843914f53a3">TraceThread::ptraceContinue</a> </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>sig</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Continues tasks stopped by ptrace. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>The pid of the task which will be continued </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>The signal which will be sent to the continued task </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00275">275</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6fb6fda22eaac92fbf3ba168e1deccfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a6fb6fda22eaac92fbf3ba168e1deccfd">TraceThread::run</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The method which will be executed by the thread. </p>
<p>In this method ptrace is attached to the observed process. As long as the process is running the thread will call waitpid and trace the threads and child processes of the observed process.</p>
<dl class="section attention"><dt>Attention:</dt><dd>Attaching to a process which has not been started by autopin+ might result in lots of warnings as ptrace cannot attach to tasks which are about to quit.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="../../d0/d96/classTraceThread.html#a088ce6ee05b0157c36895f384bd263b9" title="Attaches to already existing tasks of the process.">attach()</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00159">159</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aecafd0accd3c1153a9462ae691f0ee86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#aecafd0accd3c1153a9462ae691f0ee86">TraceThread::setupSignalHandler</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup SIGALRM handler. </p>
<p>Unmasks SIGALRM and sets the handler for SIGALRM to <a class="el" href="../../d0/d96/classTraceThread.html#ac2200436ddac0c4cf80400771df4b6c7" title="Signal handler for SIGALRM.">alrmSignalHandler()</a>. To ensure that SIGALRM is always catched by the thread SIGALRM is masked before starting the thread in <a class="el" href="../../d9/d33/classOSServicesLinux.html#afb35bc135841a236d3ee837a71af4827" title="Attaches autopin+ to a process.">OSServicesLinux::attachToProcess()</a>. </p>

<p>Definition at line <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html#l00307">307</a> of file <a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa0a391daa4525f3169fcb0cef3f9718f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#aa0a391daa4525f3169fcb0cef3f9718f">TraceThread::sig_TaskCreated</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signals that a new task has been created. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tid</td><td>tid of the new task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a866423e646c21b6b1c2281e99314a3e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d0/d96/classTraceThread.html#a866423e646c21b6b1c2281e99314a3e2">TraceThread::sig_TaskTerminated</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tid</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signals that task has terminated. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tid</td><td>tid of the task </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a41c457c913a89e2006509d345fe13aa6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d0/d96/classTraceThread.html#a41c457c913a89e2006509d345fe13aa6">TraceThread::alarm_occured</a> = false<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Variable indicating alarm </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00198">198</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab60be7c46a8cf4baafb1ce2344744607"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d41/classAutopinContext.html">AutopinContext</a> <a class="el" href="../../d0/d96/classTraceThread.html#ab60be7c46a8cf4baafb1ce2344744607">TraceThread::context</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The runtime context </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00121">121</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="af0a99b6619affd6befa325a8c05510ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="../../d0/d96/classTraceThread.html#af0a99b6619affd6befa325a8c05510ee">TraceThread::exreq</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Variable indicating that the thread shall exit </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00193">193</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="aabfcb91d759a2d135eb292ee3bfb8100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/de8/classProcessTree.html#af11115c242d21f55964790f7a9508a8e">ProcessTree::autopin_tid_list</a> <a class="el" href="../../d0/d96/classTraceThread.html#aabfcb91d759a2d135eb292ee3bfb8100">TraceThread::new_tasks</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Intermediate storage for new tasks </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00141">141</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3a0dbd5ff57fca014ed76d70301ca02f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dfa/classObservedProcess.html">ObservedProcess</a>* <a class="el" href="../../d0/d96/classTraceThread.html#a3a0dbd5ff57fca014ed76d70301ca02f">TraceThread::observed_process</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pointer to the internal representation of the process observed by the thread </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00146">146</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a10c322b50bbb104f709bcb6ae2401f5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t <a class="el" href="../../d0/d96/classTraceThread.html#a10c322b50bbb104f709bcb6ae2401f5c">TraceThread::pid</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>pid of the traced process </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00126">126</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbf0e49773df19baf7d4b14a3b4ae29a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString <a class="el" href="../../d0/d96/classTraceThread.html#abbf0e49773df19baf7d4b14a3b4ae29a">TraceThread::pid_str</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>pid of the traced process as a string </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00131">131</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a85daa21fa3487f909a01dc190fcb3216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long <a class="el" href="../../d0/d96/classTraceThread.html#a85daa21fa3487f909a01dc190fcb3216">TraceThread::ptrace_opt</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Options for ptrace </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00151">151</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8e861dafaac3d224cf5c1edebf2bc75a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/de8/classProcessTree.html#af11115c242d21f55964790f7a9508a8e">ProcessTree::autopin_tid_list</a> <a class="el" href="../../d0/d96/classTraceThread.html#a8e861dafaac3d224cf5c1edebf2bc75a">TraceThread::tasks</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tasks that are currently traced </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00136">136</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<a class="anchor" id="a70a9fce517715a0bc37e8fb60cf67422"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMutex <a class="el" href="../../d0/d96/classTraceThread.html#a70a9fce517715a0bc37e8fb60cf67422">TraceThread::trace_mutex</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mutex for signaling that the thread has attached to all tasks </p>

<p>Definition at line <a class="el" href="../../d1/d27/TraceThread_8h_source.html#l00188">188</a> of file <a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/os/linux/<a class="el" href="../../d1/d27/TraceThread_8h_source.html">TraceThread.h</a></li>
<li>src/os/linux/<a class="el" href="../../d0/d14/TraceThread_8cpp_source.html">TraceThread.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="../../d0/d96/classTraceThread.html">TraceThread</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
